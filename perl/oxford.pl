#!/usr/bin/env perl
use 5.030;
use strict;
use warnings qw( all );

use utf8;
use open ':std', ':encoding(UTF-8)';

use Mojo::UserAgent;

my $base_url = 'https://www.oxfordlearnersdictionaries.com/search/english/?q=';
my $url      = '';

my $ua = Mojo::UserAgent->new(max_redirects => 3);
$ua->transactor->name('Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36');
$ua->proxy->detect;

my $word  = '';
my @prons = ();
my $prons = '';

while (<DATA>) {
    chomp;
    
    $word = $_;
    $url  = $base_url . $word;
    
    my $res = $ua->get( $url )->result->dom->at('#entryContent .top-container .pron-gs.ei-g');
    
    if ( !!$res ) {
        my $pron = '';
        while ( $res =~ m{<span class="name">NAmE.*?(<span class="wrap">\/</span>)(.*?)\1}g ) {
            if ( $2 ne '' ) {
                $pron = $2;
                $pron =~ s{</?[^>]+>}{}g;
                push( @prons, $pron ) if !!$pron;
            }
        }
    }
    
    $prons = join ", ", @prons if scalar @prons;
    
    print "${word}\t${prons}\n";
    
    @prons = ();
    $prons = '';
    
    #sleep 1;
    #exit if $. == 1;
}

__DATA__
abatement
aberrant
abject
ablaze
absorbing
abstruse
absurdly
accompaniment
accord
acidic
acrobatic
actuality
adamant
adder
admittedly
adorn
advent
adverse
advisory
Aegean
aerial
aeroplane
aesthetic
affectionate
afflict
affluent
afresh
ageing
aggravate
agonizing
air-resistance
albatross
alibi
alienate
allegation
Alpine
alpinist
amass
amply
analogous
anarchy
animals
antenna
Antipodes
anxiously
aphid
Apollo
apologetic
aquaplane
architectural
arduous
aristocrat
Aristotelian
Aristotle
armament
arsenic
artiste
ascertain
assail
assiduously
assorted
asterisk
astound
astronomical
AT&T
Athelney
authoritarian
backwater
bactericidal
ballast
Baltic
banal
barbarian
Barents
Bastille
battered
bearing
bedraggled
beeswax
Benz
bequeath
bewilder
bewilderment
biting
blackberry
blandishment
blare
blaze
blindfold
blizzard
blot
bluebottle
blunt
blur
blushing
boast
bogged
boldly
Bombay
bomber
boo
bookshelf
boulder
brigade
broker
Brooklyn
bullfight
bullion
bulrush
buoy
burgle
burrow
busman
butt
Calais
caller
cannon
caprice
capsize
carbonated
Caribbean
carnivore
carriers
cascade
catastrophic
cavern
ceaselessly
cellar
census
Centerville
chambermaid
chasm
checker
cherish
cherub
chicanery
Chippenham
churn
city-state
civilize
clamp
clatter
clavichord
cleft
clerical
Cleverland
clog
clothesline
cluster
clutter
cobra
cockcrow
cod
collide
colossal
colour-blind
combative
commercialization
commissariat
commission
commodity
compact
compartment
composure
compound
conceited
concoct
concoction
Congo
conjuring
conqueror
conscientious
console
conspire
constable
constitute
constructively
contaminate
contamination
contempt
contented
contention
contents
contrivance
conversion
convertible
convoy
convulsive
correspondingly
cosmetic
cosmic
counteract
countries
crackers
cramped
creditor
credulous
creep
crest
crevasse
cried
crockery
crude
cruiser
culpable
curative
cursed
custodian
customize
cylinder
cynic
Daewoo
Dane
dawdle
debit
debtor
decompose
deduce
deem
defendant
delinquency
delusion
demon
derrick
desolate
despise
devastation
deviation
devour
diagnosis
dialysis
digestive
dilapidated
dinghy
discard
discern
discredit
discreetly
disembark
disgrace
disillusion
disillusionment
disinfectant
disinherit
dislocate
disloyalty
dismantle
dispel
disregard
distasteful
distinguished
disunited
disused
diversion
domesticate
doorknob
downfall
drainage
dreary
dredge
drifting
drily
dubious
duplicate
duster
dustman
dweller
eccentricity
eddy
edifice
eerie
ego
election
electrocute
electrode
electroencephalograph
embedded
eminent
emit
emotionally
employees
encroaching
endearing
energize
ensue
entail
entranced
envision
epithet
equilibrium
erhu
erode
escalator
Escalopia
escapist
espionage
eternal
ethanol
evade
Everest
ex-
examiner
exceptionally
exclusive
exclusively
excuses
exempt
exercises
exhilarating
experiments
exquisite
exterminate
extol
facilitate
faintly
falter
fanatical
fanciful
fatuous
faulty
favorite
feline
ferment
fervently
Fiat
fickleness
Finnish
fissure
flagship
flea-ridden
flicker
flint
flirt
Florence
Florentine
fluctuation
forefathers
foreman
foresight
foretell
formidable
forth
fortune-teller
foundations
fraction
fragment
framed
frantically
Freddie
fresco
freshen
frightful
fritter
fumble
fundamentals
fuse
fussy
futile
galleon
gangster
gaoler
gel
generalize
Geneva
George
gesticulate
gilt
glider
glimpse
glint
glisten
good-humouredly
Gorgon
grandparents
grapple
grass-seed
gratify
gravitational
grease
Grenoble
greyish
grid
grimly
grip
grower
grudge
guestroom
guiltily
gusher
gust
haemolytic
hairdresser
hamper
handyman
hardened
harry
haul
haunt
hawser
headlight
heady
heath
heave
heretic
herring
hierarchy
high-handed
hinder
hitchhike
hive
hobble
Honolulu
horde
horsepower
hovercraft
hovertrain
hub
Hubble
hull
humidity
Hungarian
hurriedly
hypnotize
hypocrisy
hypothesis
IBM
idyllic
ignoble
illiterate
illogical
illumination
immaculate
immensity
immolation
immortal
impending
imperceptible
impersonal
impoverish
improbable
inaccessible
incessantly
incidentally
inclement
inclination
inconceivable
incumbent
incur
indefinable
indescribable
indignity
indiscriminate
indisposition
industriousness
inevitably
infallibility
infant
infinitely
infinity
inflatable
ingenuity
inmost
innovator
inquire
Inquisition
inrush
insidious
insinuate
insistent
insoluble
insularity
insurmountable
integrated
interference
interminably
intermittent
interstellar
interweave
intimation
intimidate
intoxicate
intrigue
intruder
invariably
inventory
inveterate
ironically
Jacuzzi
Java
jerky
jibe
jigsaw
juncture
justification
Justiteombudsman
juvenile
Kansas
Karate
Kashmir
kept
kidnapper
kindly
Kituro
Kivu
labourer
labyrinth
lamp-post
Lancaster
largely
lash
latch
laundromat
lavishly
leakage
learner
legibly
lighthouse
likelihood
like-minded
limelight
linen
liner
listeria
lobster
locks
lodge
longitudinal
loom
lotto
lull
lure
lurk
luscious
macaroni
Macintosh
Madrid
magnetize
magnitude
mahout
maidservant
mainframe
majestic
mamba
mania
manifest
manoeuvre
marquis
matador
Matterhorn
mattress
maturity
measles
Mediterranean
Medusa
megacycle
memory-chip
Mercedes
mere
mermaid
meteorologist
methylated
Miami
Microsoft
middle-aged
milometer
mince
Minnesota
minstrel
miraculously
mirth
monastery
monotonous
monstrous
moot
Morocco
mortally
motionless
mournful
muffle
mumble
mumps
municipality
muster
mutilate
muzzle
myriad
myxomatosis
nag
naive
narrowly
NASA
Natalie
naval
nebula
negligence
negligible
neurotoxic
Newcastle
newlyweds
newsagent
newsletter
Nigerian
ninepin
non-fiction
nostril
notoriously
novice
oarfish
oblige
obscurity
observant
obstinately
obstruction
occurrence
oceanarium
octopus
oddly
odds
offender
officious
okay
ombudsman
omen
ominously
opaque
opponent
oppress
ordnance
organically-grown
orgy
oriental
orphanage
outlandish
outrageous
overalls
overbalance
overheads
over-industrialized
overland
overpopulated
overrun
overwhelm
overwhelmingly
over-zealously
ow
packing
pact
pagan
painlessly
palaeontological
paradise
paratrooper
parishioner
parliamentary
parquet
partridge
passionately
pastoral
pastry
pasture
patronage
pedestal
penalize
pence
penholder
pennant
perch
perilous
perpetual
persecute
persistent
perspire
perspiring
pertinent
perturb
pester
pestilence
petrify
Peugeot
phenomena
phrasebook
physiological
Piccadilly
pitfall
plank
plausible
plea
plead
pleading
pleasantly
plumber
ply
pneumatic
pocketbook
polo
porcupine
Portuguese
positively
potency
potentiality
pot-holer
pot-holing
pounce
preacher
precariously
predecessor
predominant
preferential
prejudiced
prelude
premise
premises
preponderance
preside
presumptuous
pretentious
prevailing
prise
pristine
prizefighter
procession
prolonged
promiscuous
propulsion
prosecute
protagonist
provocation
prudent
psychiatric
psychiatrist
Ptolemy
puma
punctuality
punctually
punctuate
puncture
purchasable
quicken
quintuplet
radiance
radical
radically
raining
rambler
rambling
ransack
ransom
rarity
rashly
rattlesnake
rebound
recede
recluse
recuperation
recur
refinement
regiment
regularity
reminder
reminiscence
remonstrate
rendezvous
repairperson
repel
repetitive
reprimand
repulsive
reputable
requisite
resentful
resin
resourceful
retrace
revealer
revulsion
rickety
robot-arm
robust
Rolls-Royce
Romanian
rudder
rudely
rugged
run-down
sabre-toothed
safeguard
safekeeping
saga
salmonella
salon
salvage
sanguine
sarcastically
sardine
satiation
sauerkraut
savannah
scalp
scanty
scorn
scornfully
scour
screw
scrub
scurry
seashore
seasons
secrecy
sediment
sedulously
seismometer
self-respecting
sensation
sensor
sentimentally
serenity
shady
Shanghai
shatter
sheltered
shining
shivering
shoal
Siberian
Signor
silicon
silt
silverware
sincerity
sire
skeleton
skier
skirmish
slander
slaughter
slippers
slumber
slur
smash-and-grab
smuggler
snag
sneer
snob
snobbery
snout
snowing
sociologist
solely
Solent
solitary
solitude
soothe
sophistication
sorting
sounding
Southampton
spacious
spasm
spawn
specimen
speculation
speculative
speedboat
spiral
spire
spiteful
squadron
squall
staggering
stalactite
stalagmite
stale
starboard
Staten
stationer
steamship
steepen
steer
steps
stereotype
sterilize
stole
storeroom
stoutly
stoves
straggle
strata
stray
stroll
strong-minded
strychnine
stuffy
subdue
submissive
subservient
suffice
sunken
superintendent
superstructure
supervisor
susceptible
suspicious
sustenance
swarm
tableland
Tampa
tanker
tariff
taunt
teaspoonful
tempo
tenant
termite
terrestrial
tether
thermodynamics
thirstily
thither
thresh
threw
thrifty
thrive
throng
ticklish
tint
tipster
topography
torchlight
torpedo
torrent
toxic
Toyota
tragic
trailer
transverse
traveling
tremor
trickle
trifling
triple
true
tuck
Turkish
tussle
twitter
twofold
Ulyanovsk
unacceptable
uncanny
uncrumpled
undeclared
undeniable
underclothes
undercurrent
underestimate
underside
undertaking
undoing
undue
undulate
unduly
unforeseen
unhurt
uniquely
unreasoning
unrelenting
unscrew
unsettle
unshakable
unsmiling
unsympathetic
untold
unutterable
utilitarian
valiant
vanished
variant
varying
ventilate
ventilation
verify
veritable
vernacular
versus
vertebrate
vertically
vibration
vicar
vicinity
vicious
Victorian
vie
vinyl
violently
viper
viperine
visualize
vitality
vitamins
vivify
vole
volt
Volvo
vulgar
wade
wandering
wane
wares
watchdog
waterlogged
waterspout
Wayle
weird
Welsh
wheelbarrow
whimsical
whine
whisky
wickedly
winch
windowsill
windscreen
winkle
workstation
worthless
wreck
wriggle
yawning
yeast
zoomorphic